 @model GlanceBudgeter.Models.CodeFirst.Household
@using Microsoft.AspNet.Identity
 <!-- DataTables -->
<link href="~/assets/plugins/datatables/jquery.dataTables.min.css" rel="stylesheet" />
<link href="~/assets/plugins/datatables/fixedHeader.bootstrap.min.css" rel="stylesheet" />
<link href="~/assets/plugins/datatables/buttons.bootstrap.min.css" rel="stylesheet" />

<link href="~/assets/plugins/datatables/fixedHeader.bootstrap.min.css" rel="stylesheet" />
<link href="~/assets/plugins/datatables/responsive.bootstrap.min.css" rel="stylesheet" />
<link href="~/assets/plugins/datatables/scroller.bootstrap.min.css" rel="stylesheet" />
<link href="~/assets/css/components.css" rel="stylesheet" type="text/css" />

@{
    ViewBag.Title = "Home Page";
}
 @if (!User.Identity.IsAuthenticated)
 {
   <H2>Please Log In To Begin Your Simple Budget!</H2>
 }
 else
 {
    <div class="container">
        <div class=" row">
            <div class="col-lg-12">
                <h2>Welcome @ViewBag.FullName! , To Your Personalized SimpleBudget!</h2>

            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h4>My Accounts</h4>



                @foreach (var account in Model.Account.Where(u => u.HouseholdId == u.HouseHold.Id))
                {
                    <table class="table">
                        <tr>


                            <th>
                                Account Type
                            </th>
                            <th>
                                Name
                            </th>
                            <th>
                                Balance
                            </th>
                            <th>
                                Opened
                            </th>
                            @*<th>
                                    @Html.DisplayNameFor(model => model.Closed)
                                </th>*@

                            <th></th>
                        </tr>


                        <tr>
                            <td>
                                @account.AccountType.Name
                            </td>
                            <td>
                                @account.Name
                            </td>

                            <td>
                                @account.Balance
                            </td>
                            <td>
                                @account.Opened
                            </td>
                            @*<td>
                                    @Html.DisplayFor(modelItem => item.Closed)
                                </td>*@

                            <td>
                                @Html.ActionLink("Edit", "Edit", new { id = account.Id }) |
                                @Html.ActionLink("Details", "Details", new { id = account.Id }) |
                                @Html.ActionLink("Delete", "Delete", new { id = account.Id })
                            </td>
                        </tr>


                    </table>

                }

            </div>



            <div class="col-xs-6">
                <h4>HouseHold Members</h4>
                @foreach (var members in Model.Members)
                {

                    <img src="@members.ProfilePic" style="max-height:100px;max-width:100px;" class="img-circle" />
                        @members.FullName



                        <br />
                }

            </div>
        </div>


        <div class="row">
            <div class="col-xs-12">
                <h4>Transactions</h4>



                <ul class="nav nav-tabs">
                    <li role="presentation" class="active">
                        <a href="#home1" role="tab" data-toggle="tab">Home</a>
                    </li>
                    <li role="presentation">
                        <a href="#profile1" role="tab" data-toggle="tab">Profile</a>
                    </li>
                    
                </ul>
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane fade in active" id="home1">
                        <div class="card-box table-responsive">
                            <div class="dropdown pull-right">
                                <a href="#" class="dropdown-toggle card-drop" data-toggle="dropdown" aria-expanded="false">
                                    <i class="zmdi zmdi-more-vert"></i>
                                </a>

                            </div>

                            <h4 class="header-title m-t-0 m-b-30">Default Example</h4>

                            <table id="datatable" class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Description</th>
                                        <th>Category</th>
                                        <th>Amount</th>
                                        <th>Created</th>
                                        <th>Account </th>
                                    </tr>
                                </thead>

                                <tbody>
                                    @foreach (var accone in Model.Transactions.Where(t => t.AuthorId == t.Accounts.OwnerId).Where(t => t.Category.Id == 1))
                                    {
                                        <tr>
                                            <td>@accone.Name</td>
                                            <td>@accone.Description</td>
                                            <td>@accone.Category.Name</td>
                                            <td>@accone.Amount</td>
                                            <td>@accone.Created</td>
                                            <td>@accone.Accounts.Name</td>
                                        </tr>




                                    }
                                   
                              
                                  
                                </tbody>
                            </table>
                        </div>
                        <!-- end col -->
                        <!-- end row -->
                    </div>
             









            <div role="tabpanel" class="tab-pane fade" id="profile1">
                <div class="card-box table-responsive">
                    <div class="dropdown pull-right">
                        <a href="#" class="dropdown-toggle card-drop" data-toggle="dropdown" aria-expanded="false">
                            <i class="zmdi zmdi-more-vert"></i>
                        </a>

                    </div>

                    <h4 class="header-title m-t-0 m-b-30">Default Example</h4>

                    <table id="responsiveTableone" class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Office</th>
                                <th>Age</th>
                                <th>Start date</th>
                                <th>Salary</th>
                            </tr>
                        </thead>

                        <tbody>

                            <tr>
                                <td>Lael Greer</td>
                                <td>Systems Administrator</td>
                                <td>London</td>
                                <td>21</td>
                                <td>2009/02/27</td>
                                <td>$103,500</td>
                            </tr>
                            <tr>
                                <td>Jonas Alexander</td>
                                <td>Developer</td>
                                <td>San Francisco</td>
                                <td>30</td>
                                <td>2010/07/14</td>
                                <td>$86,500</td>
                            </tr>
                            <tr>
                                <td>Shad Decker</td>
                                <td>Regional Director</td>
                                <td>Edinburgh</td>
                                <td>51</td>
                                <td>2008/11/13</td>
                                <td>$183,000</td>
                            </tr>
                            <tr>
                                <td>Michael Bruce</td>
                                <td>Javascript Developer</td>
                                <td>Singapore</td>
                                <td>29</td>
                                <td>2011/06/27</td>
                                <td>$183,000</td>
                            </tr>
                            <tr>
                                <td>Donna Snider</td>
                                <td>Customer Support</td>
                                <td>New York</td>
                                <td>27</td>
                                <td>2011/01/25</td>
                                <td>$112,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- end col -->
                <!-- end row -->
            </div>
        </div>
</div>
    </div>
           </div>          
                <!-- end col -->


                 























         
 }


@section scripts
 {
    
    <script>
            var resizefunc = [];
        </script>
    
<script src="~/assets/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.bootstrap.js"></script>
<script src="~/assets/plugins/datatables/dataTables.buttons.min.js"></script>
<script src="~/assets/plugins/datatables/buttons.bootstrap.min.js"></script>
<script src="~/assets/plugins/datatables/jszip.min.js"></script>
<script src="~/assets/plugins/datatables/pdfmake.min.js"></script>
<script src="~/assets/plugins/datatables/vfs_fonts.js"></script>
<script src="~/assets/plugins/datatables/buttons.html5.min.js"></script>
<script src="~/assets/plugins/datatables/buttons.print.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.fixedHeader.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.keyTable.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.responsive.min.js"></script>
<script src="~/assets/plugins/datatables/responsive.bootstrap.min.js"></script>
<script src="~/assets/plugins/datatables/dataTables.scroller.min.js"></script>

<!-- Datatable init js -->
<script src="~assets/pages/datatables.init.js"></script>

<script type="text/javascript">
         $(document).ready(function () {
             $('#datatable').dataTable();
             $('#datatable-keytable').DataTable({ keys: true });
             $('#datatable-responsive').DataTable();
             $('#datatable-scroller').DataTable({ ajax: "assets/plugins/datatables/json/scroller-demo.json", deferRender: true, scrollY: 380, scrollCollapse: true, scroller: true });
             var table = $('#datatable-fixed-header').DataTable({ fixedHeader: true });
         });
         TableManageButtons.init();

</script>
    <script>

         $(function () {
             $('#responsiveTableone').DataTable({
                 responsive: true,
                 'iDisplayLength': 5,
             });
         })


    </script>
    


    
}